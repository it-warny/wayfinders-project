{% extends "base.html" %}

{% block title %}Editar Lembrança{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-8 offset-md-2">
        <h3>Editando: {{ memory.title }}</h3>
        <div class="card bg-secondary mt-3">
            <div class="card-body">
                <form method="POST" action="{{ url_for('edit_memory', memory_id=memory.id) }}" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="title">Título</label>
                        <input type="text" class="form-control" name="title" value="{{ memory.title }}" required>
                    </div>
                    <div class="form-group">
                        <label for="event_date">Data do Evento</label>
                        <input type="date" class="form-control" name="event_date" value="{{ memory.event_date.strftime('%Y-%m-%d') }}" required>
                    </div>
                    <div class="form-group">
                        <label for="description">Descrição</label>
                        <textarea class="form-control" name="description" rows="3">{{ memory.description }}</textarea>
                    </div>
                    <div class="form-group">
                        <label for="media_file">Substituir Foto ou Vídeo (opcional)</label>
                        <p class="text-muted">Arquivo atual: {{ memory.media_url.split('/')[-1] }}</p>
                        <input type="file" class="form-control-file" name="media_file">
                    </div>
                    <button type="submit" class="btn btn-info btn-block">Salvar Alterações</button>
                    <a href="{{ url_for('timeline') }}" class="btn btn-dark btn-block mt-2">Cancelar</a>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}